h1 Locations
.button.add(ng-click="addLocation()")

select(id="type-select", name="type", ng-model="selectedType", ng-change="fetchLocations()")
  option(value="{{type}}", ng-repeat="type in types") {{type}}


.location(ng-repeat="location in locations")
  .not-editing(ng-hide="location.editing")
    img.logo(ng-src="{{location.logo.file || location.logo.url || '/img/avatar_blank.png'}}")
    
    .info
      .name 
        a(href="/location/{{location.short_name}}")
          | {{location.name}}
      .address1 {{location.address}}
      .address2 {{location.city}}, {{location.state}} {{location.zip}}
      .geo {{location.geo.latitude}},{{location.geo.longitude}}
      .phone {{location.phone}}
      .email {{location.email}}
      .web(ng-show="location.website")
        a(ng-href="{{location.website}}" target="_blank")
          | {{location.website}}
      .fbUrl(ng-show="location.facebookPageId")
        a(ng-href="https://facebook.com/{{location.facebookPageId}}" target="_blank")
          | https://facebook.com/{{location.facebookPageId}}
      .twitterUrl(ng-show="location.twitterId")
        a(ng-href="https://twitter.com/{{location.twitterId}}" target="_blank")
          | https://twitter.com/{{location.twitterId}}
      .instagramUrl(ng-show="location.instagramId")
        a(ng-href="https://instagram.com/{{location.instagramId}}" target="_blank")
          | https://instagram.com/{{location.instagramId}}
      .yelpUrl(ng-show="location.yelpBusinessId")
        a(ng-href="https://yelp.com/biz/{{location.yelpBusinessId}}" target="_blank")
          | https://yelp.com/biz/{{location.yelpBusinessId}}
      .youtubeUrl(ng-show="location.youtubeUrl")
        a(ng-href="{{location.youtubeUrl}}" target="_blank")
          | {{location.youtubeUrl}}
    .actions
      .button.edit(ng-click="editingLocation(location)")
      .button.close(ng-click="removeLocation(location)")
      .clear
    .clear

  .edit(ng-hide="!location.editing")

    div(file-dropzone='[image/png, image/jpeg, image/gif]', file='location.logo.file', file-name='location.logo.filename', data-max-file-size='3', style='width:100px;height:100px;display:block;')
      img.logo(ng-src="{{location.logo.file || location.logo.url || '/img/avatar_blank.png'}}")

    //- select(name="type", ng-model="location.type")
    //-   option(value="{{type}}", ng-repeat="type in types") {{type}}
      
    label(ng-repeat="type in types").
      <input type="checkbox" checklist-model="location.types" checklist-value="type"> {{type}}
    
    br

    label(ng-repeat="animal in animals").
      <input type="checkbox" checklist-model="location.animals" checklist-value="animal"> {{animal}}


    input.form-control.name(ng-model="location.name", placeholder="Name")
    input.form-control.name(ng-model="location.short_name", placeholder="short_name")
    input.form-control.address(ng-model="location.address", placeholder="Address")
    input.form-control.city(ng-model="location.city", placeholder="City")
    input.form-control.state(ng-model="location.state", placeholder="State")
    input.form-control.zip(ng-model="location.zip", placeholder="Zip")
    input.form-control.latitude(ng-model="location.geo.latitude")
    input.form-control.longitude(ng-model="location.geo.longitude")
    input.form-control.email(ng-model="location.email", placeholder="Email")
    input.form-control.phone(ng-model="location.phone", placeholder="Phone")
    input.form-control.website(ng-model="location.website", placeholder="Website")
    input.form-control.facebookPageId(ng-model="location.facebookPageId", placeholder="Facebook Page Id")
    input.form-control.twitterId(ng-model="location.twitterId", placeholder="Twitter Id")
    input.form-control.instagramId(ng-model="location.instagramId", placeholder="Instagram Id")
    input.form-control.yelpBusinessId(ng-model="location.yelpBusinessId", placeholder="Yelp Business Id")
    input.form-control.youtubeUrl(ng-model="location.youtubeUrl", placeholder="Youtube Url")
    .actions
      .button.save(ng-click="editLocation(location)")
      .button.close(ng-click="cancelEditing(location)")
